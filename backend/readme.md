# üìê Flashcards App Core

üß±Ô∏è –≠—Ç–æ —è–¥—Ä–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è —Å–ª–æ–≤ —á–µ—Ä–µ–∑ –∫–∞—Ä—Ç–æ—á–∫–∏. –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –ø–æ –ø—Ä–∏–Ω—Ü–∏–ø–∞–º **–≥–µ–∫—Å–∞–≥–æ–Ω–∞–ª—å–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã (Hexagonal Architecture)**, —Ç–∞–∫–∂–µ –∏–∑–≤–µ—Å—Ç–Ω–æ–π –∫–∞–∫ **Ports and Adapters**.

---

## üõ°Ô∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
          +------------------+
          |     Adapters     | ‚Üê Web, Telegram, DB
          +------------------+
                   ‚Üë ‚Üì
          +------------------+
          |      Ports       | ‚Üê Interfaces (CardRepository, –∏ –¥—Ä.)
          +------------------+
                   ‚Üë ‚Üì
          +------------------+
          |   Application    | ‚Üê Use Cases, —Å–µ—Ä–≤–∏—Å—ã (CardService)
          +------------------+
                   ‚Üë ‚Üì
          +------------------+
          |      Domain      | ‚Üê –°—É—â–Ω–æ—Å—Ç–∏ (Card, Folder), –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
          +------------------+
```

---

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞

```
src/
‚îú‚îÄ‚îÄ domain/              # Card, Folder –∏ –ª–æ–≥–∏–∫–∞ –≤–Ω—É—Ç—Ä–∏
‚îú‚îÄ‚îÄ application/         # CardService, FolderService
‚îú‚îÄ‚îÄ ports/               # –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã (CardRepository, –∏ –¥—Ä.)
‚îî‚îÄ‚îÄ adapters/            # (–±—É–¥–µ—Ç –ø–æ–∑–∂–µ) TelegramBot, DB, Web
```

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```
npm test
```

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `ts-jest`, –∫–æ–Ω—Ñ–∏–≥ –≤ `jest.config.ts`.

---

## üõ†Ô∏è –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

- `typescript`
- `jest`, `ts-jest`, `@types/jest`
- `ts-node` (–¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è `jest.config.ts`)

---

## üåê –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

- `AI_SERVICE_URL` ‚Äî –±–∞–∑–æ–≤—ã–π URL –≤–Ω–µ—à–Ω–µ–≥–æ —Å–µ—Ä–≤–∏—Å–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `http://localhost:4000`)
- `JWT_SECRET` ‚Äî —Å–µ–∫—Ä–µ—Ç –¥–ª—è –ø–æ–¥–ø–∏—Å–∏ JWT (–æ–±—è–∑–∞—Ç–µ–ª–µ–Ω)
- `TURNSTILE_SECRET_KEY` ‚Äî —Å–µ–∫—Ä–µ—Ç Cloudflare Turnstile –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–∞–ø—á–∏ –ø—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ (`POST /auth/register`). –û–±—è–∑–∞—Ç–µ–ª–µ–Ω –¥–ª—è —É—Å–ø–µ—à–Ω–æ–π —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏: –±–µ–∑ –Ω–µ–≥–æ –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ–∫–µ–Ω–∞ –∫–∞–ø—á–∏ –Ω–µ –ø—Ä–æ–π–¥—ë—Ç.
- –î–ª—è **Google Sheets** (–∏–º–ø–æ—Ä—Ç/—ç–∫—Å–ø–æ—Ä—Ç): `GOOGLE_CLIENT_ID`, `GOOGLE_CLIENT_SECRET`, `GOOGLE_REDIRECT_URI` (–Ω–∞–ø—Ä–∏–º–µ—Ä `http://localhost:3000/auth/google/sheets/callback`), `FRONTEND_URL` (–Ω–∞–ø—Ä–∏–º–µ—Ä `http://localhost:8888`). **–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –ø—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é** `drizzle/0004_google_sheets_tokens.sql` (—Ç–∞–±–ª–∏—Ü–∞ `google_sheets_tokens`), –∏–Ω–∞—á–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –Ω–µ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—Å—è.

---

## üìå –ü—Ä–∏–Ω—Ü–∏–ø

- –Ø–¥—Ä–æ (`domain`, `application`, `ports`) **–Ω–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–æ–≤**
- –í–Ω–µ—à–Ω–∏–π –º–∏—Ä –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ **ports**
- –õ–æ–≥–∏–∫–∞ –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–∞, –ª–µ–≥–∫–æ —Ç–µ—Å—Ç–∏—Ä—É–µ—Ç—Å—è

---

## üìç –°–ª–µ–¥—É—é—â–∏–π —à–∞–≥

üîπ –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∞–¥–∞–ø—Ç–µ—Ä—ã:


- Telegram Bot
- Web API (–Ω–∞–ø—Ä–∏–º–µ—Ä, Express)
- –ë–î-—Ö—Ä–∞–Ω–∏–ª–∏—â–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, Prisma, SQLite)

